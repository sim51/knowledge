<!DOCTYPE html><html lang="" ng-app="knowledge"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.2"><title>Comment restaurer ma base après un arrêt violent (base inconsistante)</title><link type="text/css" rel="stylesheet" href="/dist/css/application.css" media="all"></head><body class="article"><header class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container-fluid"><div class="navbar-header"><a title="Home" href="/" class="navbar-brand"><img alt="Neo4j" src="/dist/assets/images/logo.png"></a></div><nav class="collapse navbar-collapse  hidden-print" ng-controller="MenuCtrl"><form class="form-search pull-right form-inline  hidden-print" role="search" action="/" method="get"><div class="form-group"><label for="search"><Recherche></Recherche></label><div class="input-append"><input type="text" placeholder="Search" class="input-large search-query" name="search" value="" id="search"><button class="btn" type="submit"><i class="fa fa-search"></i></button></div></div></form></nav></div></header><main class="container-fluid"><article class="row-fluid" itemscope="" itemtype="http://schema.org/Article"><header></header><section itemprop="articleBody"><section class="sect2"><h3 id="_comment_restaurer_ma_base_après_un_arrêt_violent_base_inconsistante">Comment restaurer ma base après un arrêt violent (base inconsistante)</h3><div class="paragraph"><p>Si un crash survient et que Neo4j ne s&#8217;est pas éteint normalement, il se peut qu&#8217;au redémarrage vous obteniez dans les log un message comme quoi votre est inconsistante.</p></div>
<div class="paragraph"><p>Ceci provient du fait que les données de la base ne sont pas en conformités avec le journal des transactions.
Bref un ou plusieurs transactions n&#8217;ont pas eu le temps d&#8217;être écrite dans les données de la base.</p></div>
<div class="paragraph"><p>Lorsqu&#8217;on démarre un serveur Neo4j, si celui-ci ne répond pas au bout de 2min, alors le serveur s’étend automatiquement. Or l&#8217;opération de récupération peut prendre plus de temps.</p></div>
<div class="paragraph"><p>Pour se soustraire à cette commande, il suffit de démarrer le serveur avec la commande suivante :</p></div>
<div class="listingblock"><div class="content"><textarea class="code_highlight">$&gt;bin/neo4j start-no-wait</textarea></div></div>
<div class="paragraph"><p>L&#8217;opération de récupération peut prendre un peu de temps, et consomme également de la mémoire.
N&#8217;oubliez pas de vérifier le fichier de log <code>data/graph.db/messages.log</code> pour voir s&#8217;il n&#8217;y a pas un <code>OutOfMemoryException</code> quelque part</p></div></section></section><footer><div id="footer-text">&nbsp;|&nbsp; &nbsp;|&nbsp; <strong>Updated:&nbsp;</strong><time itemprop="dateModified" datetime="2015-11-03 18:07:10 CET">2015-11-03 18:07:10 CET</time>&nbsp;|&nbsp; </div></footer></article></main><script src="/dist/js/knwoledge-base.doc.min.js"></script></body></html>